<?xml version="1.0" encoding="utf-8" ?>
<mct:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:mct="clr-namespace:CommunityToolkit.Maui.Views;assembly=CommunityToolkit.Maui"
             x:Class="TodoList.Pages.AddTaskPage"
             xmlns:viewmodels="clr-namespace:TodoList.ViewModels"
             xmlns:converters="clr-namespace:TodoList.Converters"
           xmlns:models="clr-namespace:TodoList.Models"
             BackgroundColor="{AppThemeBinding Light={StaticResource OffWhite}, Dark={StaticResource OffBlack}}"
             Padding="-20"
             MaximumWidthRequest="600"
             MaximumHeightRequest="200"
             x:DataType="viewmodels:AddTaskViewModel">

    <ScrollView Padding="10">
        <VerticalStackLayout>
            <Entry Placeholder="Название задачи" Text="{Binding Name, Mode=OneWayToSource}"/>
            <Editor Placeholder="Описание" Text="{Binding Description, Mode=OneWayToSource}"/>
            <Grid ColumnDefinitions="*,*">
                <Entry Placeholder="Тег" Grid.Column="0" Text="{Binding Tag, Mode=OneWayToSource}"/>
                <Picker Grid.Column="1" SelectedItem="{Binding Priority, Mode=TwoWay}"
                        ItemsSource="{x:Static viewmodels:AddTaskViewModel.AllPriorities}"
                        ItemDisplayBinding="{Binding ., Converter={converters:PriorityToStringConverter}}"/>
            </Grid>
            
            <HorizontalStackLayout>
                <Label Text="Выполнить до:" Margin="5"/>
                <DatePicker Date="{Binding Date, Mode=TwoWay}"/>
                <TimePicker Time="{Binding Time, Mode=TwoWay}"/>
            </HorizontalStackLayout>
            <Button Text="Создать" Margin="5"/>
        </VerticalStackLayout>
    </ScrollView>
</mct:Popup>